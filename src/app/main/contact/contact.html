<!-- Contact Section - Version 1 Figma Layout -->
<section class="contact-section" id="contact" aria-labelledby="contact-heading">
  <div class="contact-container">
    
    <!-- Headline + Arrow Container - Figma Spezifikation -->
    <div class="headline-arrow-container">
      <h2 id="contact-heading">{{ 'contact.title' | translate }}</h2>
      <!-- Arrow - Desktop only -->
      <img src="assets/img/arrows/arrowcontactme.png" alt="" class="contact-arrow" aria-hidden="true">
    </div>
    
    <!-- Content-Bereich: Links Text, Rechts Kontaktinfo -->
    <div class="contact-content-area">
      <div class="contact-text-area">
        <p class="contact-intro">{{ 'Encourage people to contact you and describe what role you are interested in. Express interest in contributing to a new project.' | translate }}</p>
      </div>
      
      <div class="contact-info-area">
        <div class="contact-item">
          <div class="contact-icon-wrapper">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="contact-icon">
              <path d="M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z" fill="currentColor"/>
            </svg>
          </div>
          <div class="contact-text">
            <span class="contact-label">{{ 'E-Mail' | translate }}:</span>
            <a href="mailto:jstjonas@gmx.de" class="contact-link">jstjonas@gmx.de</a>
          </div>
        </div>
        
        <div class="contact-item">
          <div class="contact-icon-wrapper">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="contact-icon">
              <path d="M6.62 10.79C8.06 13.62 10.38 15.94 13.21 17.38L15.41 15.18C15.69 14.9 16.08 14.82 16.43 14.93C17.55 15.3 18.75 15.5 20 15.5C20.55 15.5 21 15.95 21 16.5V20C21 20.55 20.55 21 20 21C10.61 21 3 13.39 3 4C3 3.45 3.45 3 4 3H7.5C8.05 3 8.5 3.45 8.5 4C8.5 5.25 8.7 6.45 9.07 7.57C9.18 7.92 9.1 8.31 8.82 8.59L6.62 10.79Z" fill="currentColor"/>
            </svg>
          </div>
          <div class="contact-text">
            <span class="contact-label">{{ 'Tel' | translate }}:</span>
            <a href="tel:+4915224463100" class="contact-link">0152 244 631 00</a>
          </div>
        </div>
      </div>
    </div>

    <form class="contact-form" (ngSubmit)="onSubmit()" #contactForm="ngForm" novalidate>
      <fieldset class="form-fields">
        <legend class="sr-only">{{ 'contact.form.legend' | translate }}</legend>
        
        <div class="form-layout">
          <!-- Linke Spalte: Name und Email -->
          <div class="form-left">
            <div class="form-group">
              <label for="name" class="sr-only">{{ 'contact.form.name' | translate }}</label>
              <div class="input-wrapper">
                <input 
                  type="text" 
                  id="name" 
                  name="name" 
                  [placeholder]="'contact.form.name' | translate" 
                  [(ngModel)]="formData.name" 
                  #nameField="ngModel"
                  required 
                  minlength="2"
                  maxlength="50"
                  autocomplete="name"
                  [class.error]="nameField.invalid && (nameField.dirty || nameField.touched)"
                  [class.valid]="nameField.valid && (nameField.dirty || nameField.touched)"
                  aria-describedby="name-error">
                <span class="validation-icon error-icon" *ngIf="nameField.invalid && (nameField.dirty || nameField.touched)">!</span>
                <span class="validation-icon success-icon" *ngIf="nameField.valid && (nameField.dirty || nameField.touched)">✓</span>
              </div>
              <div id="name-error" class="error-message" *ngIf="nameField.invalid && (nameField.dirty || nameField.touched)">
                <span *ngIf="nameField.errors?.['required']">{{ 'contact.errors.nameRequired' | translate }}</span>
                <span *ngIf="nameField.errors?.['minlength']">{{ 'contact.errors.nameMinLength' | translate }}</span>
              </div>
            </div>
            
            <div class="form-group">
              <label for="email" class="sr-only">{{ 'contact.form.email' | translate }}</label>
              <div class="input-wrapper">
                <input 
                  type="email" 
                  id="email" 
                  name="email" 
                  [placeholder]="'contact.form.email' | translate" 
                  [(ngModel)]="formData.email" 
                  #emailField="ngModel"
                  required
                  appEmailValidator
                  autocomplete="email"
                  [class.error]="emailField.invalid && (emailField.dirty || emailField.touched)"
                  [class.valid]="emailField.valid && (emailField.dirty || emailField.touched)"
                  aria-describedby="email-error">
                <span class="validation-icon error-icon" *ngIf="emailField.invalid && (emailField.dirty || emailField.touched)">!</span>
                <span class="validation-icon success-icon" *ngIf="emailField.valid && (emailField.dirty || emailField.touched)">✓</span>
              </div>
              <div id="email-error" class="error-message" *ngIf="emailField.invalid && (emailField.dirty || emailField.touched)">
                <span *ngIf="emailField.errors?.['required']">{{ 'contact.errors.emailRequired' | translate }}</span>
                <span *ngIf="emailField.errors?.['email']">{{ 'contact.errors.emailInvalid' | translate }}</span>
              </div>
            </div>
          </div>
          
          <!-- Rechte Spalte: Message -->
          <div class="form-right">
            <div class="form-group">
              <label for="message" class="sr-only">{{ 'contact.form.message' | translate }}</label>
              <div class="input-wrapper">
                <textarea 
                  id="message" 
                  name="message" 
                  [placeholder]="'contact.form.message' | translate" 
                  rows="6" 
                  [(ngModel)]="formData.message" 
                  #messageField="ngModel"
                  required 
                  minlength="10"
                  maxlength="1000"
                  [class.error]="messageField.invalid && (messageField.dirty || messageField.touched)"
                  [class.valid]="messageField.valid && (messageField.dirty || messageField.touched)"
                  aria-describedby="message-error"></textarea>
                <span class="validation-icon error-icon textarea-icon" *ngIf="messageField.invalid && (messageField.dirty || messageField.touched)">!</span>
                <span class="validation-icon success-icon textarea-icon" *ngIf="messageField.valid && (messageField.dirty || messageField.touched)">✓</span>
              </div>
              <div id="message-error" class="error-message" *ngIf="messageField.invalid && (messageField.dirty || messageField.touched)">
                <span *ngIf="messageField.errors?.['required']">{{ 'contact.errors.messageRequired' | translate }}</span>
                <span *ngIf="messageField.errors?.['minlength']">{{ 'contact.errors.messageMinLength' | translate }}</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="privacy-checkbox">
          <input 
            type="checkbox" 
            id="privacy" 
            name="privacy" 
            [(ngModel)]="formData.privacy" 
            #privacyField="ngModel"
            required
            [class.error]="privacyField.invalid && (privacyField.dirty || privacyField.touched)"
            aria-describedby="privacy-error">
          <label for="privacy" [innerHTML]="'contact.form.privacy' | translate"></label>
          <div id="privacy-error" class="error-message" *ngIf="privacyField.invalid && (privacyField.dirty || privacyField.touched)">
            <span *ngIf="privacyField.errors?.['required']">{{ 'contact.errors.privacyRequired' | translate }}</span>
          </div>
        </div>
      </fieldset>
      
      <div class="form-messages">
        <div *ngIf="showSuccess" class="success-message">
          {{ 'contact.success' | translate }}
        </div>
        <div *ngIf="showError" class="error-message-form">
          {{ 'contact.errorMessage' | translate }}
        </div>
      </div>
      
      <button 
        type="submit" 
        class="btn-primary" 
        [disabled]="!contactForm.valid || isSubmitting"
        [attr.aria-label]="isSubmitting ? ('contact.sending' | translate) : ('contact.send' | translate)">
        <span *ngIf="!isSubmitting">{{ 'contact.send' | translate }}</span>
        <span *ngIf="isSubmitting" class="loading">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="spinner" aria-hidden="true">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" stroke-dasharray="31.416" stroke-dashoffset="31.416" fill="none"/>
          </svg>
          {{ 'contact.sending' | translate }}
        </span>
      </button>
    </form>
  </div>
</section>

